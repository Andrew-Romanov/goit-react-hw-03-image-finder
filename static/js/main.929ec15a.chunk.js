(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1OLOT",Modal:"Modal_Modal__FEdu_"}},22:function(e,t,a){e.exports={MainContainer:"MainContainer_MainContainer__lHqm3"}},23:function(e,t,a){e.exports={PageHeader:"PageHeader_PageHeader__2KE2s"}},24:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1MpYx",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__26OES"}},25:function(e,t,a){e.exports={Button:"Button_Button__3i4Yv"}},33:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),o=a.n(c),l=(a(32),a(33),a(2)),s=a(3),i=a(5),u=a(4),h=a(22),d=a.n(h),p=a(1),m=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:d.a.MainContainer,children:this.props.children})}}]),a}(r.Component);m.defaultProps={children:Object(p.jsx)(p.Fragment,{})};var b=m,j=a(23),g=a.n(j),f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:g.a.PageHeader,children:this.props.title})}}]),a}(r.Component);f.defaultProps={title:"Where is your title?",children:Object(p.jsx)(p.Fragment,{})};var y=f,O=a(7),_=a.n(O),v=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchQuery:""},e.handleChange=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.searchQuery.trim()&&(e.props.whenSubmit(e.state.searchQuery.trim()),e.formReset())},e.formReset=function(){e.setState({searchQuery:""})},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("section",{className:_.a.Searchbar,children:Object(p.jsxs)("form",{className:_.a.Searchbar__Form,onSubmit:this.handleSubmit,children:[Object(p.jsx)("button",{className:_.a.Searchbar__Button,type:"submit",children:Object(p.jsx)("span",{className:_.a.Searchbar__ButtonLabel,children:"Search"})}),Object(p.jsx)("input",{className:_.a.Searchbar__Input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchQuery,onChange:this.handleChange})]})})})}}]),a}(r.Component);v.defaultProps={whenSubmit:function(){}};var x=v,I=a(12),S=a(24),w=a.n(S),k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(t){e.props.openModal(t.target.dataset.largeimage,e.props.alt)},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("img",{src:this.props.smallImageUrl,alt:this.props.alt,className:w.a.ImageGalleryItemImage,"data-largeimage":this.props.largeImageUrl,onClick:this.handleClick})})}}]),a}(r.Component);k.defaultProps={alt:"Picture without tags"};var C=k,M=a(25),N=a.n(M),G=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsx)("button",{className:N.a.Button,type:this.props.type,style:{width:this.props.width},onClick:function(){return e.props.whenClicked(e.props.label)},children:this.props.label})}}]),a}(r.Component);G.defaultProps={type:"button",label:"Button",width:"80px",whenClicked:function(){alert("Button clicked")}};var B=G,L=a(11),P=a.n(L),Q=document.querySelector("#modal-root"),T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.closeModal()},e.handleKeydowm=function(t){"Escape"===t.code&&e.props.closeModal()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydowm)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydowm)}},{key:"render",value:function(){return Object(c.createPortal)(Object(p.jsx)("div",{className:P.a.Overlay,onClick:this.handleBackdropClick,children:Object(p.jsx)("div",{className:P.a.Modal,children:Object(p.jsx)("img",{src:this.props.src,alt:this.props.alt})})}),Q)}}]),a}(r.Component);T.defaultProps={alt:"Picture without tags"};var D=T,F=a(13),H=a(26),E=function(e){return Object(p.jsxs)(H.a,Object(F.a)(Object(F.a)({viewBox:"0 0 400 50",height:50,width:400,backgroundColor:"transparent"},e),{},{children:[Object(p.jsx)("circle",{cx:"150",cy:"25",r:"8"}),Object(p.jsx)("circle",{cx:"194",cy:"25",r:"8"}),Object(p.jsx)("circle",{cx:"238",cy:"25",r:"8"})]}))};E.metadata={name:"RioF",github:"clariokids",description:"Three Dots",filename:"ThreeDots"};var U=E,R=a(27),W=a.n(R),A=function(e,t){return W.a.get("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=").concat(12,"&key=").concat("9331698-e17fc555dd577ca52fdf34a8b"))},K=a(9),q=a.n(K),z=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={pictures:[],pageNumber:1,isLoading:!1,isModalOpen:!1,needToScroll:!1},e.modalData={src:"",alt:""},e.scrollToBottom=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.fetchImages=function(){e.setState({isLoading:!0}),setTimeout((function(){A(e.props.searchQuery,e.state.pageNumber).then((function(t){0!==t.data.hits.length?e.setState((function(e){return{pictures:[].concat(Object(I.a)(e.pictures),Object(I.a)(t.data.hits)),needToScroll:!0}})):console.log("No images found")})).catch((function(t){console.log(t),e.setState({isLoading:!1})})).finally((function(){return e.setState({isLoading:!1})}))}),500)},e.loadMoreImages=function(){e.setState((function(e){return{pageNumber:e.pageNumber+1}}))},e.toggleModal=function(){e.setState((function(e){return{isModalOpen:!e.isModalOpen}}))},e.openModal=function(t,a){e.modalData.src=t,e.modalData.alt=a,e.toggleModal()},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.searchQuery!==this.props.searchQuery?(this.setState({pictures:[],pageNumber:1}),this.fetchImages()):t.pageNumber<this.state.pageNumber&&this.fetchImages(),this.state.needToScroll&&(this.scrollToBottom(),this.setState({needToScroll:!1}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.pictures,r=t.isLoading,n=t.isModalOpen;return Object(p.jsxs)("section",{className:q.a.ImageGalleryContainer,children:[0!==a.length&&Object(p.jsx)("ul",{className:q.a.ImageGallery,children:a.map((function(t){return Object(p.jsx)("li",{className:q.a.ImageGalleryItem,children:Object(p.jsx)(C,{smallImageUrl:t.previewURL,largeImageUrl:t.largeImageURL,alt:t.tags,openModal:e.openModal})},t.id)}))}),r&&Object(p.jsx)(U,{}),0!==a.length&&!r&&Object(p.jsx)(B,{type:"button",label:"Load more...",width:"140px",whenClicked:this.loadMoreImages}),n&&Object(p.jsx)(D,{src:this.modalData.src,alt:this.modalData.alt,closeModal:this.toggleModal})]})}}]),a}(r.Component);z.defaultProps={searchQuery:""};var J=z,Y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchQuery:""},e.whenSubmit=function(t){e.setState({searchQuery:t})},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(p.jsxs)(b,{children:[Object(p.jsx)(y,{title:"React Homework 03. Image Finder"}),Object(p.jsx)(x,{whenSubmit:this.whenSubmit}),Object(p.jsx)(J,{searchQuery:this.state.searchQuery})]})}}]),a}(r.Component);o.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(Y,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__rwxsW",Searchbar__Form:"Searchbar_Searchbar__Form__QHDWb",Searchbar__Button:"Searchbar_Searchbar__Button__2OLbe",Searchbar__ButtonLabel:"Searchbar_Searchbar__ButtonLabel__1KsGW",Searchbar__Input:"Searchbar_Searchbar__Input__d4TLn"}},9:function(e,t,a){e.exports={ImageGalleryContainer:"ImageGallery_ImageGalleryContainer__3WPzj",ImageGallery:"ImageGallery_ImageGallery__1LMHh",ImageGalleryItem:"ImageGallery_ImageGalleryItem__kILtd"}}},[[53,1,2]]]);
//# sourceMappingURL=main.929ec15a.chunk.js.map